<?xml version="1.0" encoding="utf-8"?>
<guidanceItem id="afda6b09-c1bc-425a-a59a-f4ffe7c085b9" Author="" Category="Authentication" Priority="2" Rule_Type="Checklist Item" Status="" Technology="Java" title="Application is Partitioned into Public and Private Domains" Topic="Security" phase="Deployment" xmlns="urn:microsoft:guidanceexplorer:guidanceItem">
  <content>&lt;h1&gt;What to Check For&lt;/h1&gt;&lt;p&gt;Ensure that your application clearly defines the boundaries between its protected and unprotected resources.&lt;/p&gt;&lt;h1&gt;Why&lt;/h1&gt;&lt;p&gt;Defining a boundary between public and restricted content helps establish the check points that will allow access to the restricted content.&lt;/p&gt;&lt;h1&gt;How to Check&lt;/h1&gt;Follow these steps to ensure your application is partitioned into public and protected (restricted) domains: &lt;ol&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Enumerate all web accessible resources. &lt;/strong&gt;Identify the protected resources from the public resources. Common protected resources include but are not limited to:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Resources that require authentication &lt;/li&gt;&lt;li&gt;Critical application resources &lt;/li&gt;&lt;li&gt;Sensitive/confidential data&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Ensure that protected resources have the appropriate access controls. &lt;/strong&gt;Use the &lt;a href="ruledisplay:152B3F11-E1F6-4885-B1CA-5FBF866E9FF2"&gt;Role-based Security Checks are Performed&lt;/a&gt; checklist to determine if all protected resources have the appropriate access controls assigned to them.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Check if there is separation on disk between public and protected resources. &lt;/strong&gt;Examine the local filesystem structure. Check if a protected resource is located inside a public directory and vice versa.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Verify the local system permissions for all resources. &lt;/strong&gt;For each resource, check that the local system permissions are set accordingly. If the resource is public, verify that anonymous users can access it. If the resource is protected, verify that only authorized users can access it.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1&gt;Problem Example&lt;/h1&gt;&lt;p&gt;MyApp is a financial tool that generates reports based on sensitive data. It allows the user to upload the financial data and download the report. Since the application is small, all of its content is located within the same directory. The access control is enforced by the web application through checking the required permissions before a given call is executed.&lt;/p&gt;&lt;p&gt;Since both data and code is within the same directory, it may be possible for an attacker to gain access to the raw financial data.&lt;/p&gt;&lt;h1&gt;Related Guideline&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="ruledisplay:6543475A-082B-4E98-8446-F2AFF2EF0553"&gt;Guideline: Partition Application Between Public and Private Domains (Java Web Application)&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;</content>
</guidanceItem>